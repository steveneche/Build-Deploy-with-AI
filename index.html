<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Movie App — Fade-in Cards</title>
  <style>
    :root{
      --bg:#0f1724; /* dark navy */
      --card:#0b1220;
      --muted:#9aa6bf;
      --accent:#ff6b6b;
      --glass: rgba(255,255,255,0.04);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,var(--bg) 0%, #071022 100%);
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:40px 24px;
    }

    header{
      max-width:1100px;
      margin:0 auto 24px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
    }
    h1{font-size:20px;margin:0}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    .container{
      max-width:1100px;
      margin:0 auto;
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
      gap:20px;
      margin-top:18px;
    }

    .card{
      background:linear-gradient(180deg,var(--card), rgba(11,18,32,0.9));
      border-radius:12px;
      overflow:hidden;
      box-shadow:0 6px 18px rgba(2,6,23,0.6);
      transform:translateY(10px);
      opacity:0;
      transition:transform .45s cubic-bezier(.2,.9,.2,1),opacity .45s ease-in-out;
      display:flex;
      flex-direction:column;
      min-height:360px;
      border:1px solid rgba(255,255,255,0.03);
    }

    /* when revealed */
    .card.revealed{
      transform:none;
      opacity:1;
    }

    .poster{
      height:300px;
      background-size:cover;
      background-position:center;
      position:relative;
    }
    .rating{
      position:absolute;
      right:8px;
      top:8px;
      background:var(--glass);
      padding:6px 8px;
      border-radius:8px;
      font-weight:600;
      color: #fff;
      font-size:13px;
      backdrop-filter: blur(6px);
    }

    .card-body{
      padding:12px 12px 16px;
      display:flex;
      flex-direction:column;
      gap:8px;
      flex:1;
    }
    .title{font-weight:700;font-size:15px}
    .meta{font-size:12px;color:var(--muted)}

    .genres{display:flex;gap:8px;flex-wrap:wrap}
    .genre{font-size:11px;padding:6px 8px;border-radius:999px;background:rgba(255,255,255,0.02);color:var(--muted)}

    .actions{margin-top:auto;display:flex;gap:8px;align-items:center}
    .btn{
      padding:8px 12px;border-radius:10px;border:none;cursor:pointer;font-weight:600;font-size:13px;
      background:linear-gradient(90deg,var(--accent),#ff9b9b);color:#081024;flex:1
    }
    .ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:8px 10px;border-radius:10px;font-weight:600;font-size:13px}

    /* subtle hover */
    .card:hover{transform:translateY(-6px) scale(1.01)}

    /* small screens */
    @media (max-width:420px){
      body{padding:20px 12px}
      .poster{height:240px}
    }

    /* fade-up animation for staggering using CSS variable */
    .card{transition-delay:var(--delay, 0ms)}

    /* simple search */
    .controls{display:flex;gap:12px;align-items:center}
    input[type=search]{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:10px;color:inherit;outline:none}

    footer{max-width:1100px;margin:36px auto 0;color:var(--muted);font-size:13px;text-align:center}

  </style>
</head>
<body>
  <header class="container">
    <div>
      <h1>Movie App — Top 10</h1>
      <p class="lead">Cards with fade-in reveal powered by Intersection Observer</p>
    </div>
    <div class="controls">
      <input id="search" type="search" placeholder="Search title or genre..." aria-label="Search movies" />
      <button id="shuffle" class="ghost" title="Shuffle movies">Shuffle</button>
    </div>
  </header>

  <main class="container">
    <section id="grid" class="grid" aria-live="polite"></section>
  </main>

  <footer>
    Tip: scroll to reveal cards. Built with plain HTML, CSS and JS.
  </footer>

  <script>
    // Simple dataset for 10 movies (poster URLs are from unsplash / placeholder)
    const movies = [
      {title:'The Last Horizon', year:2023, rating:8.3, genres:['Sci-Fi','Adventure'], poster:'https://images.unsplash.com/photo-1517602302552-471fe67acf66?auto=format&fit=crop&w=800&q=60'},
      {title:'Neon Streets', year:2021, rating:7.9, genres:['Crime','Drama'], poster:'https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?auto=format&fit=crop&w=800&q=60'},
      {title:'Ocean of Stars', year:2024, rating:8.7, genres:['Drama','Romance'], poster:'https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=60'},
      {title:'Midnight Code', year:2022, rating:7.5, genres:['Thriller','Mystery'], poster:'https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?auto=format&fit=crop&w=800&q=60'},
      {title:'Echoes of Time', year:2020, rating:8.1, genres:['Historical','Drama'], poster:'https://images.unsplash.com/photo-1478720568477-152d9b164e26?auto=format&fit=crop&w=800&q=60'},
      {title:'Quantum Leap', year:2025, rating:8.9, genres:['Sci-Fi','Action'], poster:'https://images.unsplash.com/photo-1531177071274-6f7ba1b1200f?auto=format&fit=crop&w=800&q=60'},
      {title:'Paper Planes', year:2019, rating:7.2, genres:['Family','Comedy'], poster:'https://images.unsplash.com/photo-1508182312101-8cbf3a4b39d6?auto=format&fit=crop&w=800&q=60'},
      {title:'Silent Canyons', year:2021, rating:7.8, genres:['Western','Adventure'], poster:'https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=800&q=60'},
      {title:'Glass Cities', year:2024, rating:8.0, genres:['Drama','Sci-Fi'], poster:'https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=800&q=60'},
      {title:'The Long Road Home', year:2018, rating:7.6, genres:['Drama','Road Movie'], poster:'https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&fit=crop&w=800&q=60'}
    ];

    const grid = document.getElementById('grid');
    const search = document.getElementById('search');
    const shuffleBtn = document.getElementById('shuffle');

    function render(list){
      grid.innerHTML = '';
      list.forEach((m,i)=>{
        const card = document.createElement('article');
        card.className = 'card';
        // add CSS var for staggered delay (100ms per item)
        card.style.setProperty('--delay', (i*90) + 'ms');

        card.innerHTML = `
          <div class="poster" style="background-image:url('${m.poster}')" role="img" aria-label="Poster: ${m.title}">
            <div class="rating">⭐ ${m.rating}</div>
          </div>
          <div class="card-body">
            <div class="title">${m.title}</div>
            <div class="meta">${m.year} • ${m.genres.join(', ')}</div>
            <div class="genres">${m.genres.map(g=>`<span class="genre">${g}</span>`).join('')}</div>
            <div class="actions">
              <button class="btn" aria-label="Watch ${m.title}">Watch</button>
              <button class="ghost" aria-label="Details for ${m.title}">Details</button>
            </div>
          </div>
        `;
        grid.appendChild(card);
      });
      observeCards();
    }

    // Intersection Observer to reveal cards when they enter viewport
    let observer;
    function observeCards(){
      // disconnect previous observer if any
      if(observer) observer.disconnect();
      const cards = document.querySelectorAll('.card');
      observer = new IntersectionObserver((entries)=>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){
            entry.target.classList.add('revealed');
            // once revealed, unobserve to avoid re-triggering
            observer.unobserve(entry.target);
          }
        });
      },{threshold:0.12});

      cards.forEach(c=>observer.observe(c));
    }

    // simple search function
    function filter(q){
      const qq = q.trim().toLowerCase();
      if(!qq) return movies.slice();
      return movies.filter(m=>{
        return m.title.toLowerCase().includes(qq) || m.genres.join(' ').toLowerCase().includes(qq) || String(m.year).includes(qq);
      });
    }

    // shuffle helper
    function shuffle(a){
      for(let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i],a[j]] = [a[j],a[i]];
      }
      return a;
    }

    // events
    search.addEventListener('input', (e)=>{
      const r = filter(e.target.value);
      render(r);
    });

    shuffleBtn.addEventListener('click', ()=>{
      const copy = shuffle(movies.slice());
      render(copy);
    });

    // initial render
    render(movies.slice());

    // accessibility: allow keyboard reveal of all cards
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'r'){
        document.querySelectorAll('.card').forEach((c,idx)=>setTimeout(()=>c.classList.add('revealed'), idx*60));
      }
    });
  </script>
</body>
</html>
